# 股票筛选系统

基于技术指标的智能股票筛选与回测平台，提供Web界面进行股票筛选、历史查询和回测分析。

## 功能特性

- 📊 **实时筛选**: 获取当前符合筛选条件的股票
- 📅 **历史查询**: 查询指定日期符合筛选条件的股票
- 📈 **回测分析**: 分析历史选股至今的表现
- ⚙️ **配置查看**: 查看当前使用的筛选参数和技术指标

## 技术指标

- RSI指标: 相对强弱指数
- 布林线突破: 布林带上轨突破
- 量能潮: OBV量能潮指标
- 知行短期趋势线: EMA(EMA(C,10),10)
- 知行多空线: 多周期均线组合

## 筛选条件

- 涨跌幅: 2%-6%
- 换手率: 5%-10%
- 流通市值: 40亿-300亿
- 量比: >1

## 快速开始

### 1. 启动服务

```bash
# 使用启动脚本（推荐）
./start.sh

# 或手动启动
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
python app.py
```

### 2. 访问系统

打开浏览器访问: http://8.152.212.206:5000

## API接口

### 获取当前股票
```
GET /api/stocks/current
```

### 查询历史股票
```
POST /api/stocks/history
Content-Type: application/json

{
    "date": "2025-08-25"
}
```

### 运行回测
```
POST /api/backtest
Content-Type: application/json

{
    "date": "2025-08-25"
}
```

### 获取配置
```
GET /api/config
```

## 文件结构

```
├── app.py              # Flask后端服务
├── my.py               # 股票筛选核心逻辑
├── stock.py            # 原始股票筛选代码
├── requirements.txt    # Python依赖
├── start.sh           # 启动脚本
├── templates/         # 前端模板
│   └── index.html     # 主页面
└── data/              # 数据文件目录
    └── *.txt          # 选股结果文件
```

## 使用说明

1. **当前筛选**: 点击"获取当前股票"按钮，系统会实时筛选当前符合条件的股票
2. **历史查询**: 选择日期后点击"查询历史股票"，系统会查询该日期的选股结果
3. **回测分析**: 选择起始日期后点击"运行回测"，系统会分析从该日期至今的股票表现
4. **配置信息**: 点击"加载配置"查看当前使用的筛选参数和技术指标

## 注意事项

- 系统需要网络连接以获取股票数据
- 历史查询功能需要指定日期为交易日
- 回测功能会分析从指定日期到当前日期的表现
- 所有数据仅供参考，投资需谨慎

## 技术栈

- 后端: Flask + Python
- 前端: HTML + CSS + JavaScript
- 数据: akshare + pandas + talib
- 部署: 本地运行，支持Docker部署